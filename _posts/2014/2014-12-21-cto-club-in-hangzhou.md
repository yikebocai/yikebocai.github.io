---
layout: post
title: CTO俱乐部走进杭州见闻
categories: tech
tags: 
- meetup
---

初创公司万事开头难，从去年离职正式加入同盾到现在，埋头苦干了整整一年，写代码、管项目、做运维、搞架构、招聘成员、带团队等几乎无所不做，忙的不亦乐乎，和外界几乎断绝了联系，趁着最近诸事慢慢走上轨道，终于可以出来参加一些业界的活动，学习一下别人的经验，也希望以后能把在同盾经验教训能分享出去。

这次CTO俱乐部走进杭州是CSDN和又拍云联合主办的，因此地点放在了他们在数娱大厦的办公室。为了能多点机会和业界的同仁交流，吃过午饭早早来到活动现场，大多数人都还没有过来，特意挑了个中间点儿的位置，能够和四面八方的人都能方便地交流，这和之前总是喜欢坐在角落特别害羞的自己有了明显的变化。来参加活动的人都是公司的技术负责人，有做传统软件开发的，有做服装网站的，也有创业做在线服务的，还做在线支付的，基本上都是以中小企业和创业公司居多。

活动开始后，首先是又拍云的联合创始人沈志华致词，大概讲了又拍云做的一些事情，又拍云做了非常基础的云存储服务，让很多公司可以在此基础上短时间就能开发出支撑海量用户的系统，把更多精力放在自己的产品和业务上。看了一下又拍的官网，他们目前已有45000家客户，每天新增1000万文件，日请求量超过60亿，非常的牛X，我的梦想之一就是有朝一日亲手将我们的网站做到能支撑上亿的访问。其实我们同盾也想做这样的云服务提供商，只不过又拍云是做更基础的服务，而我们是给客户提供偏业务层面的风险决策服务，但从调用量上来看我们还差好几个数量级，如何加快接入客户的速度也是我们面临的最大挑战之一。

随后又拍云CTO黄慧攀分享了他们自己实现的大规模云上实时监控系统-狗眼，有一个dashboard页面把所有指标都放在一个页面里，每个指标占了一个小格子，数据实时动态刷新，系统有什么问题可以一目了然。点击每个指标，还可以看到该指标任何时间段的历史变化曲线图，数据读取速度比Zabbix快太多了。另外他们的存储设计的也非常精巧，相比Zabbix把数据存到Mysql，他们自己设计了自己的数据存储系统，每个指标的数据存放在一个文件中，每秒一个数据，每个数据占用8个字节，想取哪一段的数据只需要计算一下数据的偏移量直接从文件中把这段数据读取出来就行了，一年的数据算下来也就`365*24*3600*8=250M`，比Mysql真是小几个数量级，这在小型网站可能体现不出多少优势，但在大型网站监控非常多的指标时，意义就很大了。另外又拍云内部有各种各样的语言，狗眼系统也提供了各种编程语言的客户端版本，可以在应用系统中直接调用它的API把业务监控数据上传到监控服务器，唯一不够完美的就是需要侵入到业务代码中。另外对一些通用组件像Nginx、Mysql、Memcached等的支持还不够完善，需要自己编写相应的脚本。好消息是，他们计划明年开源这套系统，届时会对常用的组件增加相应的支持，非常的期待。

随后是又拍云的运维总监绍海洋讲的云上的架构和运维艺术，印象比较深刻的几点是标准化组件、自动化运维工具ansible和私有云技术。所谓标准化组件，就是把一些常用的配置或工作都用程序写好，比如说像Nginx的upstream.conf这样的配置文件都用专门的程序生成，这样做的好处是即使不熟悉Nginx的人，也能准确无误的进行配置的变更修改，并且不管谁来做这件事情做多少次结果都一样的，这让我想起来了Clojure语言中的不可变特性，杜绝了副作用。运维的自动化工具ansible工具之前还不知道，只是有听说过和它比肩的Puppet，相比而言它最大的优势是不需要在每台机器上安装Agent，而是通过SSH来实现，方便了很多。另外，ansible是用Python写的，而Puppet是用Ruby写的，做运维自动化Python显然有更大的优势。问了一下我们的运维同事，ansible我们已经用上了，之前还完全不知道。关于现在大热的私有云，又拍云用的比较多的是Vagent，也在小规模的使用Docker，但遇到的坑比较多，比如主进程假死的问题，另外他特别推崇OpenStack，认为这将是今后私有云的主流技术，值得花费大量时间去研究。对于私有云，一直也想研究一下，但是限于公司事情多资源少一直还没有切入，后续有时间可以再深入研究一下。


丁香园CTO冯大辉应该是业内知名度最高的一位，相对在网上给人辛辣尖锐的风格不同，线下的他给人的感觉还是挺平和的，并且幽默感十足。他分享了这几年带领丁香园技术和产品团队的一些心得。首先提到了所有公司都面临的一个最头痛的问题就是招人，靠着他在业界强大的影响力和人脉关系，通过在微信或微博或其它渠道发布招聘信息，或者通过熟人介绍，初期确实也能招到一些人，他称之为刷脸，但时间长了效果就很小了，目前更主要的精力是放在拉勾、内推等这种新型的招聘网站上，像51job等传统的招聘网站已越来越难招到合适的人选，如果一个技术人员还在用这种落后的网站在找工作，也可以想像他们的技术能力和视野也高不哪儿去。这一点我也是深有感触，之前也在微信和微博发过多次招聘的信息，从来没有任何效果，即使写着送iphone6也没啥用，现在我基本不再发这样的信息，还不如多花点精力在内推上。内推目前是我招人的最重要的渠道之一，因为上面可以搜索简历，一但看到合适的人选就可以立即下载下来联系，而拉勾开始的时候还可以现在效果也不太明显了，主要是要坐等人家来投简历，51job网站的简历质量太差开始用过一段时间，现在已完全放弃了。另外他在招人方面还讲到一个有意思的事情，有些人当初冲着他的名气而来，本指望来了之后能跟着心目中仰慕的大牛多学点东西，但来了之后发现梦想和现实的差距还是比较大的，渐渐失望最后大多会在短时间内离开，他已开始忌讳招聘因此而来的人选。

关于团队管理方面，大辉坚决杜绝无意义的会议，能不开就不要开会，如果真要开会也是三五人凑在一起站着讨论就地解决问题，把很多相干不想干的人拉到一个会议室里往往会偏离主题，很多人开会都是去打酱油，这种事情在阿里时屡见不鲜，也是在大公司让人最不爽的地方之一。他甚至对技术分享这样的会议也持反对态度，这让我颇感意外，我在团队内部还在不停的倡导大家多做分享。他的观点是，现在互联网时代，如果一个人真想学习，他可以轻易使用Google找到各种各样的文档资料甚至视频，找大牛分享或其它技术分享不过是一些人不想学习的借口，他更倾向于支持想学习的人参加外部的技术会议。昨天在我的建议下，我们的前端工程师分享了关于前端开发的技术，刚开始的时候很多人都过来听分享，会议室挤的满满的，大家热情高涨求知若渴，但过了不到15分钟，有些人就开始忍不住玩手机了，过了半个小时，有些人就走掉了，后面坚持听的人越来越少，即使还在坐的人真的认真听讲的最多也就不到一半，并且发现每次技术分享差不多都是这个样子，好几次都忍不住想冲上去说，如果大家觉得听着没意思与其在这里耗着浪费时间，还不如去做点自己的事情，最后还是忍住了，等下次分享开始时再说吧，省得让大家难堪。


蘑菇街的CTO岳旭强之前是淘宝的技术大牛，这几年蘑菇街发展也非常快，技术团队每年翻翻，目前已有200人左右，在所有参加会议的公司中算是比较大的了，他也分享了他这几年带领技术团队的一些经验。现在招聘的技术人员，大多是90年代前后的年轻人，相比70、80后的人来说，这些年轻人因为没有没经历过物质的匮乏从而有更加独立的人格，他谓之“正常人”，能够放心大胆地追求自己的兴趣爱好，而不是听从领导的指示而不管自己感不感兴趣，前者往往只能做到六七十分，而真正兴趣驱动的，往往可以做到九十分以上。为了让这些年轻人释放这些能量，他鼓励大家可以放手尝试，但不能影响本职工作，很多人就利用晚上的时间做了各种各样的的东西，刚开始的时候可能也没什么用处，但后面公司在转型时就派上用场了，比如像分布式数据库中间层，像最近已经开源的聊天工具TT等，通过这种方式既满足了年轻人的爱好，释放了他们的欲望，也无意中诞生了很多非常有用的东西。

另外还提到了团队如何提升沟通效率，平时大家都按产品线分散坐开，便于产品线的技术产品运营交流，遇到大项目会采用集中起来到项目室的方式减少沟通成本，在阿里时很多团队也偏爱搞项目室，这种方式确实能降低很多沟通成本提升工作效率。另外他提到了目前蘑菇街是没有专职的QA、DBA、OPS人员，都是开发兼职在做，之前我们人少时也是这样，那是不得已，后来团队成员多了起来，都有了专职的人员。对于没有QA如何保证开发质量这点，我就提出了自己的疑问，他说测试时开发、产品、运营的同学一起进行功能测试，同时把开发排个班，每个人每天早晚都把网站的核心功能都点一遍，后来有开发就受不了啦，自己开始写自动化测试脚本，慢慢就把人力给解放出来了，这倒是一个不错的方式。之前我们没有专职测试时，每次发布版本上线，大家都凑在一起进行公测，效果也还可以，但无法保证测的很细，虽然现在有了专职的QA团队，但我希望QA团队更多的是能将自动化测试平台建立起来，而不是做一些简单的体力劳动，目前自动化平台也初具成效，后续需要不断加强。

各位大牛分享的干货还有很多，有些已记不太清了，总体上来说收获颇丰，有技术上的新知识，也有团队管理上的经验教训，取长补短，希望能让我们的团队有更好的成长。另外这次交流，也突破了技术人员脸皮薄不擅沟通的顽疾，每人分享Q&A阶段都把自己的问题抛出来和嘉宾一起探讨，算是提问最积极的一个，会后也和大辉等嘉宾及其他参会的人员互动了一下，算是不小的突破，因为我实在不能容忍自己因为不好意思而不能全情投入白白浪费一个下午的时间，那还不如不来。非常期待下一次类似的活动！