---
layout: post
title: 银行IT技术见闻
categories: life
tags: 
- bank
---

>最近帮一家地方股份制银行做一个互联网金融项目的咨询，深入地了解了传统金融机制在IT建设方面的情况以及他们做事的方式，感觉和互联网行业的差异还是挺大的，技术体系上的差异还是其次，最主要的还是思维上的巨大差别。

## 安全第一
你在新浪上看新闻，网页打不开了大不了不看，或者去别的网站也能看到，使用QQ聊天消息发不出去了，大不了等会儿或换种联系方式，这些系统虽然也有非常高的可用性要求，但相对银行业务来说，大家对它的容忍程度会高很多，因为自己的切身利益并没有受到损害，但银行的业务（主要是交易业务）涉及到钱的流转，一但出错用户肯定要跳起来了，因此对系统的安全特别重视，安全第一深深地刻在每个人的头脑中。

另外，银行绝大多数都是国有企业，除了是一个企业外它还分担了一部分政府的职能和形象，上面也是各种各样的监管，比如银监会、人行等，就连上个系统都要进行报备，很多IT设备和技术架构需要遵从各种监管机构的要求，因此又加一道安全的枷锁。

除了上述的原因外，银行的各级人员，特别害怕承担责任，万一出了故障或事故，自己的前途就完了，因此大家宁愿多花钱多费事少做事保守一点，也不愿意冒风险。目前在互联网行业广泛使用的各种技术和产品，银行都不愿意使用，他们也不是不知道这些技术先进和免费，但他们首先想到的是如果到时出问题，到时谁来承担责任，买商业产品就不一样了，出了问题总是有人负责的。人都是趋利避害的，这种看起来非常难以理解的现象，和银行的体制有很大关系，谁也不是傻傻鸟呀。

安全第一虽然保证少出错，但也限制了他们的发展，消磨了大家的开拓和创新精神，这也是近年来在互联网金融领域被互联网公司逼的很窘迫的主要原因之一。

## 舍的花钱
本着安全第一的目标，银行在IT采购上非常舍得花钱，尤其认可国际国内那些大的厂商，比如IBM、HP、Oracle、神码、恒生等，如果选最牛B公司的产品，那么出了问题没人会说什么。因此可以看到，动辄几十上百万的服务器、网络产品、软件产品，几百万上千万开发一套系统，在他们看来非常正常。

这些软硬件的配置都远远超出实际的需求，很多系统的使用率不足百分之一浪费惊人，看着让人非常痛心。比如跑一个Java应用，我看到配置都16核CPU、32G以上的内存，而之前在阿里时一般是4核CPU、4G内存就足够了，完全可以分拆成更多的VM来提升整体系统的吞吐率和性能。

## 技术相对落后
这次在这家银行看到了传说中的ESB产品，这个概念应该是十年前的了，它的目的是想把所有的服务管理起来，但这种想法非常理想化，服务调用的核心是去中心化，而ESB恰恰是一个中心，所以的服务调用都要通过它，并且实现复杂，需要至少两次中转，对性能损耗很大。感觉纯粹是学术机构倒腾出来的东西，而不是一线互联网公司根据实际需求创造出来的产品，现在都流行像Dubbo这样的RPC框架了。

服务之前的调用还是通过Hession这种HTTP的方式来通讯，中间需要大量依赖硬负载设备，多了一次转发，并且hession的性能也不够高，高效的通讯方式是使用像Dubbo这种具备软负载能力的RPC框架。

应用服务器大多还是使用WebLogic或WebSphere这种非常笨重的商业产品，而互联网行业多使用轻量级的Jboss/Tomcat/Jetty等。

虽然银行也在上互联网金融的项目，但他们对互联网产品的运维还缺少经验，连个自动化的发布都没有，对运维这一块的重要性还认识不足。

## 缺少快速响应能力

大多数银行尤其是中小银行没有自己的研发团队，严重依赖外部公司，购买的产品也是五花八门，自己的系统也是各个不同的厂商负责的，像互联网的产品，需要的是快速迭代和快速的响应能力，东西都不是自己的，万一出现个问题，可能需要非常长的时间才能修复，这对银行来说运营互联网的产品是个非常大的挑战。